<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Usuários</title>
  <link rel="shortcut icon" href="../assets/icons/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="../CSS/style.css">
  <link rel="stylesheet" href="../CSS/tables.css">
  <link rel="stylesheet" href="../css/dashboard.css">
  <link rel="stylesheet" href="../css/cards.css">
  <link rel="stylesheet" href="../css/notification.css">
  <link rel="stylesheet" href="../CSS/utils.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="../script/dashboard.js"></script>
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300,600' rel='stylesheet' type='text/css'>
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
</head>

<body onload="loadUser()">

  <header>
    <div>
    </div>

    <a href="./geralTI.html">
      <div class="headerLogo">
        <img src="../assets/img/medtech-logo2.png">
      </div>
    </a>
    
    <div class="profileHeader" onclick="toggleOptions()">
      <div class="profileFrame">
        <img src="../assets/img/user-avatar.png"> <!--EXEMPLO DE IMG, TROCAR-->
        <div id="profile_content">
          <!-- <div class="arrowTop"></div> -->
          <div class="opContent">
            <ul>
              <li onclick="openConfig()"> <img src="../assets/img/engrenagem.png" alt="">Configurações
              </li>
              <!-- <div id="protectedOptions"> -->
              <li onclick="openUserManagement()">
                <img src="../assets/img/config-usuario.png" alt="">
                Usuários
              </li>
              <li onclick="openComputerRegistration()">
                <img src="../assets/img/config-computador.png" alt="">
                Máquinas
              </li>
              <li onclick="logout();"><img src="../assets/img/logout.png" alt="">Logout</li>
            </ul>
          </div>
        </div>
      </div>
      <div class="profileName" id="profile_name_header">
        <span id="profileUserName">

        </span>
        <i class="fa fa-angle-down"></i>
      </div>
      <!-- SUBSTITUIR ONLOAD -->
    </div>
  </header>

  <div class="fundo-popup" id="popup" style="display: none;">
    <div class="fundo-tabela">
      <div class="topo">
        Editar
      </div>

      <div class="conteudo">
        <label for="nome"> Nome do funcionário:</label>
        <input type="text" id="update_input_nome" name="nome">

        <label for="Email">Email:</label>
        <input type="email" id="update_input_email" name="Email">

        <label for="cargo">Cargo:</label>
        <select id="update_select_cargo" name="cargo">
          <option selected value="selected">Selecione o cargo</option>
          <option value="MEDICO_GERENTE"> Médico gerente </option>
          <option value="TECNICO_TI"> Técnico TI </option>
          <option value="GESTOR_TI"> Gestor TI </option>
        </select>
        <div class="buttonsEdit">
          <button>Salvar</button>
          <button onclick="
            popup.style.display = 'none';
            fundotabela.style.display = 'flex';
          ">
            Cancelar
          </button>
        </div>
      </div>

    </div>
  </div>

  <div class="fundo-tabela" id="fundotabela">
    <div class="row">
      <div class="tabela">
        <h1>Configurar usuários</h1>
        <p><a href="#">Nome Hospital</a></p>
        <button id="add-user" onclick="btnNovoFuncionario()">Adicionar novo usuário</button>

        <div class="table_scroll">
          <table id="test-table">
            <thead>
              <tr>
                <th>Funcionário</th>
                <th>Email</th>
                <th>Cargo</th>
                <th></th>
                <th></th>
              </tr>
            </thead>

            <tbody id="table-body">
              <tr>
                <td>lorem1</td>
                <td>lorem2</td>
                <td>lorem3</td>
                <td class="editar"> <a onclick="editar()">Editar</a></td>
                <td class="deletar"><a>Excluir</a></td>
              </tr>
            </tbody>

          </table>
        </div>

      </div>



      <!-- <button class="tiny button right">Add Vehicle</button> -->
    </div>
    <div class="escurecerFundo" id="popupDelecao">
    </div>
  </div>


  <div class="fundo-popup" id="popupFuncionario" style="display: none;">
    <div class="fundo-tabela">
      <h4 class="topo">
        Novo usuário
      </h4>

      <div class="conteudo">
        <label for="nome"> Nome do funcionário:</label>
        <input type="text" id="input_nome_funcionario" name="nome">

        <label for="Email">Email:</label>
        <input type="email" id="input_email" name="Email">

        <label for="departamento">Cargo:</label>
        <select id="select_cargo" name="departamento">
          <option selected value="selected">Selecione o cargo</option>
          <option value="MEDICO_GERENTE"> Médico gerente </option>
          <option value="TECNICO_TI"> Técnico TI </option>
          <option value="GESTOR_TI"> Gestor TI </option>
        </select>


        <button id="btn-add-pc" onclick="novoFuncionario()">Adicionar</button>

        <div id="message">

        </div>



      </div>


    </div>
  </div>


  <button id="btn-voltar" onclick="voltar()">Voltar</button>
</body>

</html>
<script src="../script/utils.js"></script>
<script src="../script/config-usuarios.js">
</script>
<script>
  chkLoginDash();
  if (sessionStorage.CARGO != 'GESTOR_TI') {
    sessionStorage.clear();
    window.location.href = "../index.html";
  }
</script>